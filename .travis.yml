language: java
env:
  global:
  - secure: Pu8U6sq3dpp+p4oUQ4qtaIP3bXD6NidnnogIZXlgbd9SFoh4b12xM4fML4EzdF6U7BZJk3lMg8nrZ7cNvOGcTzlRyj4sOL64At1ZVvKBOboNEcpL2fPjYSrV4BlnTUym8oTvSV3ZMgjXzMJl1lZTUpG07cmTzA+F6RqOxuop9mpDju/XbqR/qudGS3d7Up4MOjahbNj5edLy4mWNUXRlCwdlcJjWuXmKZub9MG0ChO5CtzoRH2h7ZlTCfzx9CAOaqaOpdpxF99BVEnFc+ckAs5jKuw2hfisKzXXLRHxJh95VoI5KOBf/2fMvYTS7mObPQgHJUs04mzh/M56i0CwIZqby98xE7oZSxkYNapZOC3m2GloJS/8WlEcrqD2KKRd2ZtdbxQxlGv2QDaqiOfPIQMvh77B8WwJVKQjE0bGgCw07g2UmLg6qs3No7655oelvqQfkr/jtIiUI0Bz1hoKfBgg/w4GopjQS1x1txN41mVYjN7VczivDUU3ac8k9OHMfOp+tGHPjWIHj0OT5qPQdM8ZDJ/sTVqTMCMBFpsWs56uqT64P5yUeEi7TR0ahAxnPx3ewiWMIYOzvKGxbsO2vAV+9j1p2NDIBoSK7d+4j7pCVVg+yG3tSy3+XaXg7niMMEnL6vx7TAIsFtuqev2aGQbB3xJXF0OYv7/nxfeKEq/c=
  - secure: QSV+SIZCmV/7V7EHHgISz6mUAai8oXeEsvfJBpDXq+Et8WODjhEVWVpp1Ovv2kDRDOq/bxWSFvC3sEVBbNDgeF3UZn0zpKrx7vT6EHwoUCo9jOxIoKyXhe5j9jQUVHxtzHhPzlz31CUFWouW4u/N0A8JAJH9wi5ySKCbdXYTIE1sDtdtfsD0xVY9EHnYxsglDO4LRB9F/Ld94qcCtw8v0i2sJ+zjKs5mgY9QuTSmIl+pKCvEH6EgiswuAxFbEE19aoLrFB1KlWWoJmqjYPOJtNCi1Em4ZCoFWHfdCiTMbOxSeyTDUNP+fCpt99B1TJe51s8igolcUUwJNg43HhOuSiizoJtO8sCCusGF7m8ce2JWRgfQc9chLmfz2SUvJ9zR/acde5lL+xDWvpdD/v/YpPnj7AT4k4Fx6lVS1XYP5uIAzvh+mXe37zIBYILnSD2V2RMn4rGk+hzh31I2YUEn/JMKdOwUADRPtTCLwnREAfbuuwSs4MbA/OvZsSqPiM2HZi2oadKr/bUgpyDF1rHgseQhaQ+qAK5yBe7PqD0ijAxt1s8RJ7Ds9TubWdeODazPCpL0HRnQBaM/wqKPwAxv9WKreKP/q2KsEdelETRAZfsPatTp2IYLBOwRSmufAuk821clPFCwRYH0aX+HJwVXgZGvoTGhnVYmvzYKfUe0/xM=
  - secure: FtzbKHLJczyYQFROaR9DWIGsQN3fhVGzBDM+L8nsuSrKG1mDuj2A65btTcbl7HBimbi6yT/qe2cUOlUXSRqY9+x8vT38tfuz9npz1Bw6CcplQTlazMfEJvIwCZH396/F/UTKKgkR3DClVAT1Ll8DKrrlrP6cWQVeD/SZ0TWTb0kzDYsaoLOh+regqf7dibuLbyk0WOXq+XVIgzHpmlM/ZPK+ada1D3Jb9v2EXv7g9J97DneT0nvdLbZ/dwlNx52L/wyx1xxyhx+WDwGASWSyz8/VonhcMKZRW3uE0x15Pey5lmkJ7Vgyh2Qd3sI8bc7krPP55oULaQGKNTclshDyUBykALUhXgn1duDSDRjFascYr6DWC+hcNlE2+pSUVWf8gr3koTKrB9bPvbZWUTU+khjtcloB6MSKVUEZ0kDT586F9oWSirLK97xctbDbxtWmHP9GAhaEn3H48khBVAwBGu1kaBibtGtW0Ms9mTDJdgynup0K9WpFO49iZ+3dB2TdGutbnT2UErDgwGsFTQ0O5MbH3Jg6toPxMxKWWoKqrJgU7DOg/X0YeCpn8RFn/L+mibIxdASZuqqBJvuj0hDrAK8TeXeXM8P/y5nwGtd09cgptEToRvURbvtpZqIuiCV+e1zUKj6hgXcQrLJrprkd8ItxTVnWypTZzOhXy2sfZOk=
  - secure: w4+kZZytW24Fum9epFv21DKee/FFpH24RKT8vkFJU9jqstGJ1NWoDJyR/CLhZaTmuuIUCkh9ss6AJbEGmJ/d2RY6xcMVWFk0rL+xlJbwIRiTIEzLRF0/OZQwn+p+hGgi/EI+O7K4ZQB1gOs7AxcFF9hjd4sCLF165uGDI8xWcj96K0YW6eCmtgDpIw/xfSXYaAWnKfj7m0+Zfwgp/XRB2RtN5qGDs//9WHK6Sq1wxJcqZ0D96miy3h+1LBmjzB6+y9cBBPGhbc7eSgI64ORXJ5tprnyQU5OgCWDl8pLCG8s2NePCtoIsXvLG0EViAIlCyeiJh4qcFXVUzFggWVf1hTP68KksMUunVx/FrYjCBB1CGWeSkW6L4oaeFtQRp+8NrnaZIbesjp3Dcgc0rp1YBOvzAq/SFze+4OXh7uHKN1vEV4drwm+AssyIRKba15jyThGts0h7SBcFiX6PLWv1vkd7IAYeAV5MUL+UvZYZz7OqIa31rCmHrOl/ckVHrPRjmMTZMTRyyPCKdi/scTP5m7aN+5kz1IV06xsSXXVFmVxndu58SuqldBd6ZFOMX3CFnZoF8qwQpiTBqY3bOHZPiGscuzBbJhZPhHq69Z2MUXuBWOqmQ32j9E9wENTWxf9JEO1SZB6gYjlPvGV4JDmoBFZS9fvUyLootSFHztuB5FM=
  - secure: oG/9dGVXnXJNsVJH5mzdTKM2Zws6y/CAt7nMFphZtNSaPN3H7AxcvEa2rmhGKpC822f9yGv1IDC6r7d96fqxqB+SpV7m2DpAS6l5XQ1fgWEQ3OyUQtGGYRCHTYxXBA2ddbXYK95sFkdfNEjlm1Z3DwI5cC/rCr4JNSLFHEA/nk/iVGjQjaHM9dL0JY6vFgqlDzJnuHLBaluXfYeUHIa9jPG3K7k1wdaqC4QkEviDrMeTowz/OtahHrLcsRDTkQ7WhZMKKyGj9PNrKYWrIOhP2AgIT96OvUFJLac2+DgZh6BKcUD+Dg1zrkOqAxkGxWuKkWxFV3GtAwkfC8IxpC3dv0L5DAye7pDVKC7qsZXWvaPX8BFIkUHYTffvpzJ4odJCpTFbUT2xThWkKUbb4kriq8eXzRnRthUfKDk0NzhYTcLES32NwutR117EJfSz45P5uA04DwVRfOgflmBmmXGOEIweqmYN6ELn/nq7YG38OsJdpSsh3+fXtnR2Ujl9g1L66jW8HrS1tcNzGi75548TvCciODjVXUXnhvkXdQ6S1E0crceZmvYZWtzQLp5TyiOON0sqW7uvQPMKV9quTkFMgJ6M25waPVxDUdkSWLCGz+7/yKn2iojpxTE8d+H9NP9DjaHhvFqgNxO2WJG6l+bskRpFwO2jpbFT9z8F0mSZcEo=

before_install:
  - echo -n | openssl s_client -connect scan.coverity.com:443 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' | sudo tee -a /etc/ssl/certs/ca-
addons:
  coverity_scan:
    project:
      name: modernmaster/neo4j-visualisations
      description: Build submitted via Travis CI
    notification_email: diesel_baz@hotmail.com
    build_command_prepend: mvn clean
    build_command: mvn -DskipTests=true compile
    branch_pattern: master
before_script:
- git config --global user.email "me@jamesmcguigan.co.uk"
- git config --global user.name "modernmaster"
- git config credential.helper "store --file=.git/credentials"
- echo "https://${GH_TOKEN}:@github.com" > .git/credentials
- git remote set-url origin https://modernmaster:${GH_TOKEN}@github.com/modernmaster/neo4j-visualisations.git
script:
- bash ./build.sh
after_success:
- bash <(curl -s https://codecov.io/bash)
- 'if [[ "$TRAVIS_PULL_REQUEST" != "false" && "$TRAVIS_BRANCH" = "master" ]]; then bash ./deploy.sh; fi'
